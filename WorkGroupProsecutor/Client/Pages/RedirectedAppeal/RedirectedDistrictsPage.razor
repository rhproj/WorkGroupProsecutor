@page "/redirecteddistrictspage/{Period}/{Year:int}"

<div class="container m-1">
  <h2 class="text-center my-3">Реестр обращений, предполагаемых к переадресации в иные органы и ведомства</h2>            
  <h2 class="text-center my-3">@Period @Year год</h2>
</div>

<table class="table table-striped align-middle text-center">
    <thead class="table-success">
        <tr>
            <th class="h4">Дата</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var district in districtsList)
        {
            <tr>
                <td class="h4">@district Переадресация</td>
                <td>
                    <a href="/redirectedappealassessment/@district/@Period/@Year" class="btn btn-outline-dark">Смотреть</a>
                </td>
            </tr>
        }
    </tbody>
</table>


@code {
    [Inject]
    public IRedirectedAppealDataService? RedirectedAppealDataService { get; set; }
    [Parameter]
    public string Period { get; set; }
    [Parameter]
    public int Year { get; set; }


    private List<string> districtsList = new();

    protected override async Task OnInitializedAsync()
    {
        districtsList = (await RedirectedAppealDataService.GetRedirectedAppealsByDistricts(Period, Year)).ToList();
        //await httpClient.GetFromJsonAsync<List<DistrictRegisterModel>>("api/redirectedappeal/{district}/{period}/{year}");
    }

}
